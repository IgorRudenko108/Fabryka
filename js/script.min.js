(()=>{"use strict";document.addEventListener("DOMContentLoaded",(function(){let e=function(e){let t=e.target,n=t.dataset.phoneClear,r=t.dataset.phonePattern,o=r||"+8(___) ___-__-__",l=0,a=o.replace(/\D/g,""),s=e.target.value.replace(/\D/g,"");"false"!==n&&"blur"===e.type&&s.length<o.match(/([\_\d])/g).length?e.target.value="":(a.length>=s.length&&(s=a),e.target.value=o.replace(/./g,(function(e){return/[_\d]/.test(e)&&l<s.length?s.charAt(l++):l>=s.length?"":e})))},t=document.querySelectorAll("[data-phone-pattern]");for(let n of t)for(let t of["input","blur","focus"])n.addEventListener(t,e)})),function(e,t){let n=document.getElementById(e),r=n.querySelector(".hours"),o=n.querySelector(".minutes"),l=n.querySelector(".seconds");function a(){let e=function(e){let t=Date.parse(e)-Date.parse(new Date),n=Math.floor(t/1e3%60),r=Math.floor(t/1e3/60%60);return{total:t,hours:Math.floor(t/36e5%24),minutes:r,seconds:n}}(t);r.innerHTML=("0"+e.hours).slice(-2),o.innerHTML=("0"+e.minutes).slice(-2),l.innerHTML=("0"+e.seconds).slice(-2),e.total<=0&&clearInterval(s)}a();let s=setInterval(a,1e3)}("countdown",new Date(Date.parse(new Date)+1296e6));const e=document.querySelectorAll(".form__btn"),t=document.querySelectorAll(".form__body"),n=document.querySelectorAll(".form__success");let r=[];e.forEach((e=>{r.push(e)}));let o=[];t.forEach((e=>{o.push(e)}));let l=[];n.forEach((e=>{l.push(e)}));for(let t=0;t<r.length;t++)e&&r[t].addEventListener("click",(function(e){e.preventDefault(),o[t].classList.add("form__close"),l[t].classList.add("success__open")}));window.addEventListener("load",(function(){function e(e){let t=e||document.querySelectorAll("[data-digits-counter]");t.length&&t.forEach((e=>{!function(e){let t=null;const n=parseInt(e.dataset.digitsCounter)?parseInt(e.dataset.digitsCounter):3e3,r=parseInt(e.innerHTML),o=0,l=a=>{t||(t=a);const s=Math.min((a-t)/n,1);e.innerHTML=Math.floor(s*(o+r)),s<1&&window.requestAnimationFrame(l)};window.requestAnimationFrame(l)}(e)}))}let t=new IntersectionObserver(((t,n)=>{t.forEach((t=>{if(t.isIntersecting){const r=t.target,o=r.querySelectorAll("[data-digits-counter]");o.length&&e(o),n.unobserve(r)}}))}),{threshold:.3}),n=document.querySelectorAll(".counter-section");n.length&&n.forEach((e=>{t.observe(e)}))}))})();